<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog Post</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="site-data/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="site-data/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="site-data/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="site-data/favicon-16x16.png">
    <link rel="manifest" href="site-data/site.webmanifest">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="script.js" defer></script>
  </head>

  <body>
    <!-- Header -->
    <header>
      <nav>
        <a href="index.html">Home</a>
        <a href="about.html">About Us</a>
        <a href="projects.html">Projects</a>
        <a href="blog.html">Blog</a>
        <a href="#">Support us</a>
        <a href="https://github.com/The-Task-Force">GitHub</a>
      </nav>
    </header>

    <!-- Blog Post Content -->
    <section class="blog-post-content">
      <div id="post-content"></div>
    </section>

    <!-- Footer -->
    <footer>
      <p>
        &copy; <span id="currentYear"></span> The Task Force. WORK IN PROGRESS
        SITE NOT FINISHED YET
      </p>
    </footer>

    <script>
      // Function to load and display the blog post content
      function loadBlogPost() {
        const urlParams = new URLSearchParams(window.location.search);
        const file = urlParams.get("file");

        if (file) {
          const blogFolder = "blogs/";
          fetch(blogFolder + file)
            .then((response) => response.text())
            .then((content) => {
              const postContent = document.getElementById("post-content");
              postContent.innerHTML = `<div class="post-wrapper">${marked.parse(
                content,
              )}</div>`;
            })
            .catch((error) => console.error("Error:", error));
        }
      }

      // Call the loadBlogPost function when the page loads
      window.addEventListener("load", loadBlogPost);
    </script>

    <script>
      document.getElementById("currentYear").innerHTML =
        new Date().getFullYear();
    </script>
  </body>
</html>
